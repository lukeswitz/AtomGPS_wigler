<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>AtomWigler :: Wardriving System</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script type="module" src="https://unpkg.com/esp-web-tools@10/dist/web/install-button.js?module"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    @keyframes scanline {
      0% { transform: translateY(-100%); }
      100% { transform: translateY(100vh); }
    }

    @keyframes flicker {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.97; }
    }

    @keyframes blink {
      0%, 49% { opacity: 1; }
      50%, 100% { opacity: 0; }
    }

    body {
      font-family: 'Courier New', 'Courier', monospace;
      background: #000;
      color: #0f0;
      min-height: 100vh;
      padding: 20px;
      overflow-x: hidden;
      animation: flicker 0.15s infinite;
      text-shadow: 0 0 5px rgba(0, 255, 0, 0.5);
    }

    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(
        to bottom,
        rgba(0, 255, 0, 0.02) 50%,
        transparent 50%
      );
      background-size: 100% 4px;
      pointer-events: none;
      z-index: 999;
    }

    body::after {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 2px;
      background: linear-gradient(
        to bottom,
        rgba(0, 255, 0, 0.8),
        transparent
      );
      box-shadow: 0 0 10px rgba(0, 255, 0, 0.8);
      animation: scanline 8s linear infinite;
      pointer-events: none;
      z-index: 1000;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
    }

    .header {
      border: 2px solid #0f0;
      padding: 20px;
      margin-bottom: 30px;
      position: relative;
    }

    .header::before,
    .header::after {
      content: '▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓';
      display: block;
      white-space: nowrap;
      overflow: hidden;
      font-size: 0.7rem;
      line-height: 1;
      margin: -10px -10px 15px -10px;
    }

    .header::after {
      margin: 15px -10px -10px -10px;
    }

    .ascii-logo {
      text-align: center;
      line-height: 1;
      font-size: 0.6rem;
      margin-bottom: 15px;
      white-space: pre;
      color: #0f0;
    }

    .tagline {
      text-align: center;
      font-size: 0.9rem;
      letter-spacing: 0.3em;
      margin-top: 10px;
      color: #0f0;
    }

    .section {
      border: 1px solid #0f0;
      padding: 20px;
      margin-bottom: 20px;
      background: rgba(0, 255, 0, 0.02);
    }

    .section-title {
      font-size: 1rem;
      margin-bottom: 15px;
      letter-spacing: 0.2em;
      border-bottom: 1px dashed #0f0;
      padding-bottom: 8px;
    }

    .section-title::before {
      content: '[';
      color: #0f0;
    }

    .section-title::after {
      content: ']';
      color: #0f0;
    }

    .blink {
      animation: blink 1s step-start infinite;
    }

    .install-box {
      text-align: center;
      padding: 30px 20px;
      border: 2px double #0f0;
      margin: 20px 0;
      background: rgba(0, 255, 0, 0.05);
    }

    .status-line {
      font-size: 0.85rem;
      margin-bottom: 20px;
      letter-spacing: 0.1em;
    }

    .status-line::before {
      content: '>>> ';
    }

    esp-web-install-button {
      display: inline-block;
    }

    button {
      background: #000;
      color: #0f0;
      font-family: 'Courier New', 'Courier', monospace;
      font-size: 1rem;
      font-weight: 700;
      padding: 15px 50px;
      border: 2px solid #0f0;
      cursor: pointer;
      text-transform: uppercase;
      letter-spacing: 0.2em;
      transition: all 0.1s;
      box-shadow: 0 0 10px rgba(0, 255, 0, 0.3);
    }

    button:hover {
      background: #0f0;
      color: #000;
      box-shadow: 0 0 20px rgba(0, 255, 0, 0.8);
    }

    button:active {
      transform: scale(0.98);
    }

    .notice {
      border: 1px solid #0f0;
      padding: 15px;
      margin: 20px 0;
      background: rgba(0, 255, 0, 0.03);
    }

    .notice::before {
      content: '!!! ';
      font-weight: 700;
    }

    .steps {
      list-style: none;
      padding: 0;
      font-size: 0.9rem;
      line-height: 1.8;
    }

    .steps li {
      position: relative;
      padding-left: 30px;
      margin-bottom: 8px;
    }

    .steps li::before {
      content: '>';
      position: absolute;
      left: 10px;
      color: #0f0;
    }

    .feature-list {
      list-style: none;
      padding: 0;
      font-size: 0.9rem;
      line-height: 1.8;
    }

    .feature-list li {
      position: relative;
      padding-left: 30px;
      margin-bottom: 8px;
    }

    .feature-list li::before {
      content: '*';
      position: absolute;
      left: 10px;
      color: #0f0;
    }

    .divider {
      border: none;
      border-top: 1px dashed #0f0;
      margin: 30px 0;
    }

    .footer {
      text-align: center;
      margin-top: 40px;
      padding: 20px;
      border-top: 2px solid #0f0;
      font-size: 0.8rem;
      letter-spacing: 0.15em;
    }

    .footer::before {
      content: '[ ';
    }

    .footer::after {
      content: ' ]';
    }

    a {
      color: #0f0;
      text-decoration: none;
      border-bottom: 1px dotted #0f0;
    }

    a:hover {
      background: #0f0;
      color: #000;
    }

    .ascii-art {
      white-space: pre;
      line-height: 1;
      font-size: 0.7rem;
      text-align: center;
      margin: 20px 0;
    }

    @media (max-width: 768px) {
      body {
        padding: 10px;
        font-size: 0.85rem;
      }

      .ascii-logo {
        font-size: 0.4rem;
      }

      .header::before,
      .header::after {
        font-size: 0.5rem;
      }

      button {
        width: 100%;
        padding: 12px 20px;
        font-size: 0.9rem;
      }

      .section {
        padding: 15px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="ascii-logo">
        
        ▄████▄ ▄▄▄▄▄▄ ▄▄▄  ▄▄   ▄▄ ██     ██ ▄▄  ▄▄▄▄ ▄▄    ▄▄▄▄▄ ▄▄▄▄  
        ██▄▄██   ██  ██▀██ ██▀▄▀██ ██ ▄█▄ ██ ██ ██ ▄▄ ██    ██▄▄  ██▄█▄ 
        ██  ██   ██  ▀███▀ ██   ██  ▀██▀██▀  ██ ▀███▀ ██▄▄▄ ██▄▄▄ ██ ██ 
        
      </div>
      <div class="tagline">WARDRIVING SYSTEM v1.7.0</div>
    </div>

    <div class="section">
      <div class="section-title">SYSTEM STATUS</div>
      <div class="install-box">
        <div class="status-line">FIRMWARE READY FOR DEPLOYMENT <span class="blink">█</span></div>
        
        <esp-web-install-button manifest="./manifest.json" erase-first>
          <button slot="activate">[ DEPLOY FIRMWARE ]</button>
        </esp-web-install-button>
      </div>
    </div>

    <div class="section">
      <div class="section-title">INSTALLATION PROTOCOL</div>
      
      <div class="notice">
        REQUIRES: Chrome/Edge/Opera browser • Target device will be erased
      </div>

      <ul class="steps">
        <li>Connect M5Stack ATOM GPS via USB-C cable to workstation</li>
        <li>Execute firmware deployment sequence (button above)</li>
        <li>Select serial port from browser interface</li>
        <li>Wait for flash operation completion (~90 seconds)</li>
        <li>Device will auto-reboot and begin GPS acquisition</li>
        <li>Insert microSD card for data logging (CSV format)</li>
      </ul>
    </div>

    <hr class="divider">

    <div class="section">
      <div class="section-title">TECHNICAL SPECIFICATIONS</div>
      
      <ul class="feature-list">
        <li>DUAL-PROTOCOL SCANNING: WiFi 2.4GHz + Bluetooth LE simultaneous</li>
        <li>GPS POSITIONING: Real-time coordinate logging with HDOP accuracy</li>
        <li>WIGLE COMPATIBLE: Standard CSV output format for database upload</li>
        <li>CONFIGURABLE CHANNELS: User-defined WiFi channel selection (1-11)</li>
        <li>ADAPTIVE TIMING: Speed-based scan delays for mobile operations</li>
        <li>MAC DEDUPLICATION: 150-entry rolling buffer prevents duplicate logs</li>
        <li>SD CARD STORAGE: Auto-incrementing daily log files</li>
      </ul>
    </div>

    <hr class="divider">

    <div class="section">
      <div class="section-title">DETECTION MATRIX</div>
      <div class="ascii-art">
┌──────────────┬──────────────┬─────────────────────┐
│   PROTOCOL   │   CHANNELS   │   DATA CAPTURED     │
├──────────────┼──────────────┼─────────────────────┤
│ WiFi 802.11  │ 1-14 (2.4G)  │ MAC/SSID/AUTH/RSSI  │
│ BLE 5.0      │ Continuous   │ MAC/NAME/RSSI       │
│ GPS L1       │ Multi-band   │ LAT/LON/ALT/HDOP    │
└──────────────┴──────────────┴─────────────────────┘
      </div>
    </div>

    <hr class="divider">

    <div class="section">
      <div class="section-title">CONFIGURATION OPTIONS</div>
      <div class="ascii-art">
config.txt parameters:
┌────────────────┬──────────┬─────────────────────────────┐
│   PARAMETER    │   TYPE   │   DESCRIPTION               │
├────────────────┼──────────┼─────────────────────────────┤
│ speedBased     │ boolean  │ Enable speed-based delays   │
│ scanDelay      │ integer  │ Static scan delay (ms)      │
│ adaptiveScan   │ boolean  │ Channel timing optimization │
│ bleScanEnabled │ boolean  │ Enable BLE scanning         │
│ channels       │ csv      │ WiFi channels (1-11)        │
└────────────────┴──────────┴─────────────────────────────┘
      </div>
    </div>

    <div class="footer">
      MIT LICENSE • OPEN SOURCE • 2024
      <br>
      <a href="https://github.com/yourusername/AtomGPS_wigler" target="_blank">github.com/yourusername/AtomGPS_wigler</a>
    </div>
  </div>
</body>
</html>